2025-10-27 16:13:15,154 - INFO - Logging to: logs\ssg_20251027_161315.log
2025-10-27 16:13:18,835 - INFO - Selected airport: KPHX
2025-10-27 16:13:18,835 - INFO - Loading GeoJSON data...
2025-10-27 16:13:18,836 - INFO - Loaded 198 parking spots and 5 runways
2025-10-27 16:13:20,837 - INFO - Fetched elevation for KPHX: 1135 ft MSL
2025-10-27 16:13:20,837 - INFO - Field elevation for KPHX: 1135 ft MSL
2025-10-27 16:13:20,837 - INFO - GeoJSON data loaded successfully
2025-10-27 16:13:20,837 - INFO - Loading CIFP data...
2025-10-27 16:13:21,100 - INFO - Loaded 63851 waypoints for KPHX
2025-10-27 16:13:21,100 - INFO - Found 11 arrival procedures
2025-10-27 16:13:21,100 - INFO - Found 0 approach FAF altitudes
2025-10-27 16:13:21,100 - INFO - CIFP data loaded successfully
2025-10-27 16:13:22,481 - INFO - Selected scenario type: ground_mixed
2025-10-27 16:13:27,089 - INFO - Loaded configuration from config.json
2025-10-27 16:13:27,091 - INFO - Generating 5 departures and 5 arrivals
2025-10-27 16:13:28,111 - INFO - Fetched flight plan KPHX -> KBNA: {'route': 'BROAK1 MAXXO IRW LOPPY CHSNE2', 'altitude': '24000', 'aircraft_type': 'B737/L', 'callsign': 'SWA1667'}
2025-10-27 16:13:28,835 - INFO - Fetched flight plan KPHX -> KLAS: {'route': 'ZEPER2 RRSTA ELLDA RKSTR4', 'altitude': '10000', 'aircraft_type': 'B738/L', 'callsign': 'SWA2148'}
2025-10-27 16:13:29,474 - INFO - Fetched flight plan KPHX -> KLGA: {'route': 'MRBIL1 JARPA RSK TXC HCT J60 JOT J146 ETG MIP4', 'altitude': '35000', 'aircraft_type': 'GLEX/L', 'callsign': 'N650CV'}
2025-10-27 16:13:30,141 - INFO - Fetched flight plan KPHX -> KDCA: {'route': 'MRBIL1 JARPA RSK SYTHH WRNCH Q136 DIYAP BDF KG66M ROD APE J30 LUISE FRDMM6', 'altitude': '35000', 'aircraft_type': 'A21N/L', 'callsign': 'AAL3312'}
2025-10-27 16:13:30,806 - INFO - Fetched flight plan KTPA -> KPHX: {'route': 'ENDED2 LACEN PATOY Q116 JAWJA BULZI MGM SQS DWINE IRW KF33C FTI KA33U ZUN EAGUL6', 'altitude': '35000', 'aircraft_type': 'B738/L', 'callsign': 'AAL3333'}
2025-10-27 16:13:30,807 - INFO - Creating arrival: AAL3333 at 6.0 NM, alt 2935 ft, hdg 270°, spd 140 kts
2025-10-27 16:13:31,497 - INFO - Fetched flight plan KABQ -> KPHX: {'route': 'RDRNR3 ZUN EAGUL6', 'altitude': '35000', 'aircraft_type': 'CRJ7/L', 'callsign': 'SKW6395'}
2025-10-27 16:13:31,498 - INFO - Creating arrival: SKW6395 at 12.0 NM, alt 4735 ft, hdg 270°, spd 140 kts
2025-10-27 16:13:32,138 - INFO - Fetched flight plan KPVD -> KPHX: {'route': 'PVD DGRAF J49 MAGIO FAALS Q62 PSKUR DREGS HUGIN JUDGE KIISS ALS J110 RSK J10 FLG DUTEY MAIER', 'altitude': '35000', 'aircraft_type': 'CL60/L', 'callsign': 'VNT523'}
2025-10-27 16:13:32,139 - INFO - Creating arrival: VNT523 at 18.0 NM, alt 6535 ft, hdg 270°, spd 140 kts
2025-10-27 16:13:32,139 - INFO - Creating arrival: AAL4945 at 24.0 NM, alt 8335 ft, hdg 270°, spd 140 kts
2025-10-27 16:13:33,147 - INFO - Fetched flight plan KCMH -> KPHX: {'route': 'PKACZ TARRY BDOCK TTH MOBBY STL KK42A KENTO KA39W ZUN EAGUL6', 'altitude': '35000', 'aircraft_type': 'C560/L', 'callsign': 'LN562JL'}
2025-10-27 16:13:33,148 - INFO - Creating arrival: LN562JL at 30.0 NM, alt 10135 ft, hdg 270°, spd 140 kts
2025-10-27 16:13:33,148 - INFO - Generated 10 total aircraft
2025-10-27 16:13:33,149 - INFO - Generated .air file with 10 aircraft at KPHX_scenario.air
2025-10-27 16:13:33,149 - INFO - Successfully generated 10 aircraft
2025-10-27 16:13:33,149 - INFO - Saved to: KPHX_scenario.air
2025-10-27 16:13:43,069 - INFO - Fetched coordinates for KPHX: 33.434269, -112.011002
2025-10-27 16:13:43,070 - INFO - Airport KPHX is in ARTCC ZAB
2025-10-27 16:13:43,070 - INFO - Auto-detected ARTCC: ZAB for airport KPHX
2025-10-27 16:13:43,070 - INFO - Created vNAS scenario with 10 aircraft
2025-10-27 16:13:43,071 - INFO - Launching undetected Chrome browser for vNAS login...
2025-10-27 16:13:43,461 - INFO - patching driver executable C:\Users\flyma\appdata\roaming\undetected_chromedriver\undetected_chromedriver.exe
2025-10-27 16:13:44,976 - INFO - Navigating to https://data-admin.vnas.vatsim.net/training
2025-10-27 16:13:45,951 - INFO - Please log in to vNAS and navigate to your scenario in the browser window...
2025-10-27 16:13:45,951 - INFO - Waiting for you to navigate to a scenario (URL pattern: /scenarios/{scenario-id})...
2025-10-27 16:14:11,266 - INFO - Scenario page detected! URL: https://data-admin.vnas.vatsim.net/training/scenarios/01JWBNNWYCP0J3XTHGXT0GPQ1R
2025-10-27 16:14:11,267 - INFO - Automatically extracted scenario ID: 01JWBNNWYCP0J3XTHGXT0GPQ1R
2025-10-27 16:14:11,269 - INFO - Successfully captured 1 vNAS session cookies
2025-10-27 16:14:11,269 - INFO - Closing browser...
2025-10-27 16:14:11,416 - INFO - Pushing scenario to vNAS: https://data-api.vnas.vatsim.net/api/training/scenarios/01JWBNNWYCP0J3XTHGXT0GPQ1R
2025-10-27 16:14:11,881 - ERROR - Authentication failed - session may have expired
2025-10-27 16:14:38,340 - INFO - Fetched coordinates for KPHX: 33.434269, -112.011002
2025-10-27 16:14:38,341 - INFO - Airport KPHX is in ARTCC ZAB
2025-10-27 16:14:38,341 - INFO - Auto-detected ARTCC: ZAB for airport KPHX
2025-10-27 16:14:38,341 - INFO - Created vNAS scenario with 10 aircraft
2025-10-27 16:14:38,343 - INFO - Launching undetected Chrome browser for vNAS login...
2025-10-27 16:14:38,686 - INFO - patching driver executable C:\Users\flyma\appdata\roaming\undetected_chromedriver\undetected_chromedriver.exe
2025-10-27 16:14:40,173 - INFO - Navigating to https://data-admin.vnas.vatsim.net/training
2025-10-27 16:14:40,970 - INFO - Please log in to vNAS and navigate to your scenario in the browser window...
2025-10-27 16:14:40,970 - INFO - Waiting for you to navigate to a scenario (URL pattern: /scenarios/{scenario-id})...
2025-10-27 16:15:07,198 - ERROR - Error during browser login: Message: invalid session id: session deleted as the browser has closed the connection
from disconnected: not connected to DevTools
  (Session info: chrome=141.0.7390.123); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#invalidsessionidexception
Stacktrace:
	GetHandleVerifier [0x0xe0fe43+66515]
	GetHandleVerifier [0x0xe0fe84+66580]
	(No symbol) [0x0xbfdc48]
	(No symbol) [0x0xbece80]
	(No symbol) [0x0xc0b81b]
	(No symbol) [0x0xc71c25]
	(No symbol) [0x0xc8c4d9]
	(No symbol) [0x0xc6afc6]
	(No symbol) [0x0xc3c2ca]
	(No symbol) [0x0xc3d154]
	GetHandleVerifier [0x0x1067353+2521315]
	GetHandleVerifier [0x0x10622d3+2500707]
	GetHandleVerifier [0x0xe37c94+229924]
	GetHandleVerifier [0x0xe281f8+165768]
	GetHandleVerifier [0x0xe2ecad+193085]
	GetHandleVerifier [0x0xe18158+100072]
	GetHandleVerifier [0x0xe182f0+100480]
	GetHandleVerifier [0x0xe025aa+11066]
	BaseThreadInitThunk [0x0x759c5d49+25]
	RtlInitializeExceptionChain [0x0x77e6d6db+107]
	RtlGetAppContainerNamedObjectPath [0x0x77e6d661+561]
Traceback (most recent call last):
  File "C:\Users\flyma\Desktop\Creative Shrimp\Sweatbox Scenario Generator (SSG)\utils\vnas_client.py", line 65, in _login_via_browser
    WebDriverWait(driver, timeout).until(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        lambda d: re.search(r'/scenarios/([a-zA-Z0-9_-]+)', d.current_url)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\flyma\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\selenium\webdriver\support\wait.py", line 129, in until
    value = method(self._driver)
  File "C:\Users\flyma\Desktop\Creative Shrimp\Sweatbox Scenario Generator (SSG)\utils\vnas_client.py", line 66, in <lambda>
    lambda d: re.search(r'/scenarios/([a-zA-Z0-9_-]+)', d.current_url)
                                                        ^^^^^^^^^^^^^
  File "C:\Users\flyma\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\undetected_chromedriver\__init__.py", line 806, in __getattribute__
    return super().__getattribute__(item)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\flyma\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\selenium\webdriver\remote\webdriver.py", line 587, in current_url
    return self.execute(Command.GET_CURRENT_URL)["value"]
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\flyma\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\selenium\webdriver\remote\webdriver.py", line 458, in execute
    self.error_handler.check_response(response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\flyma\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\selenium\webdriver\remote\errorhandler.py", line 232, in check_response
    raise exception_class(message, screen, stacktrace)
selenium.common.exceptions.InvalidSessionIdException: Message: invalid session id: session deleted as the browser has closed the connection
from disconnected: not connected to DevTools
  (Session info: chrome=141.0.7390.123); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#invalidsessionidexception
Stacktrace:
	GetHandleVerifier [0x0xe0fe43+66515]
	GetHandleVerifier [0x0xe0fe84+66580]
	(No symbol) [0x0xbfdc48]
	(No symbol) [0x0xbece80]
	(No symbol) [0x0xc0b81b]
	(No symbol) [0x0xc71c25]
	(No symbol) [0x0xc8c4d9]
	(No symbol) [0x0xc6afc6]
	(No symbol) [0x0xc3c2ca]
	(No symbol) [0x0xc3d154]
	GetHandleVerifier [0x0x1067353+2521315]
	GetHandleVerifier [0x0x10622d3+2500707]
	GetHandleVerifier [0x0xe37c94+229924]
	GetHandleVerifier [0x0xe281f8+165768]
	GetHandleVerifier [0x0xe2ecad+193085]
	GetHandleVerifier [0x0xe18158+100072]
	GetHandleVerifier [0x0xe182f0+100480]
	GetHandleVerifier [0x0xe025aa+11066]
	BaseThreadInitThunk [0x0x759c5d49+25]
	RtlInitializeExceptionChain [0x0x77e6d6db+107]
	RtlGetAppContainerNamedObjectPath [0x0x77e6d661+561]

2025-10-27 16:15:07,210 - INFO - Closing browser...
